{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      plans: [],\n      newPlan: {\n        description: '',\n        value: 0\n      },\n      editPlanData: {\n        id: null,\n        description: '',\n        value: 0\n      }\n    };\n  },\n  mounted() {\n    this.fetchPlans();\n  },\n  methods: {\n    async fetchPlans() {\n      try {\n        const response = await axios.get('http://localhost:8000/api/v1/plans/');\n        this.plans = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async createPlan() {\n      try {\n        await axios.post('http://localhost:8000/api/v1/plans/', this.newPlan);\n        this.newPlan = {\n          description: '',\n          value: 0\n        };\n        this.fetchPlans();\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    editPlan(plan) {\n      this.editPlanData = Object.assign({}, plan);\n    },\n    async updatePlan() {\n      try {\n        await axios.put(`http://localhost:8000/api/v1/plans/${this.editPlanData.id}/`, this.editPlanData);\n        this.editPlanData = {\n          id: null,\n          description: '',\n          value: 0\n        };\n        this.fetchPlans();\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async deletePlan(planId) {\n      try {\n        await axios.delete(`http://localhost:8000/api/v1/plans/${planId}/`);\n        this.fetchPlans();\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","plans","newPlan","description","value","editPlanData","id","mounted","fetchPlans","methods","response","get","error","console","createPlan","post","editPlan","plan","Object","assign","updatePlan","put","deletePlan","planId","delete"],"sources":["C:\\Users\\Lucas\\Desktop\\teste_cp_ex2\\frontend\\src\\components\\Plan.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1>Planos</h1>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <h2>Criar Plano</h2>\r\n        <div class=\"form-group\">\r\n          <label for=\"descriptionInput\">Descrição:</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"descriptionInput\" v-model=\"newPlan.description\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"valueInput\">Valor:</label>\r\n          <input type=\"number\" class=\"form-control\" id=\"valueInput\" v-model.number=\"newPlan.value\">\r\n        </div>\r\n        <button class=\"btn btn-primary\" @click=\"createPlan\">Criar</button>\r\n      </div>\r\n      <div class=\"col-md-6\">\r\n        <h2>Lista de Planos</h2>\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Descrição</th>\r\n              <th>Valor</th>\r\n              <th>Ações</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"plan in plans\" :key=\"plan.id\">\r\n              <td>{{ plan.description }}</td>\r\n              <td>{{ plan.value }}</td>\r\n              <td>\r\n                <button class=\"btn btn-warning btn-sm\" @click=\"editPlan(plan)\">Editar</button>\r\n                <button class=\"btn btn-danger btn-sm\" @click=\"deletePlan(plan.id)\">Excluir</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      plans: [],\r\n      newPlan: {\r\n        description: '',\r\n        value: 0\r\n      },\r\n      editPlanData: {\r\n        id: null,\r\n        description: '',\r\n        value: 0\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchPlans()\r\n  },\r\n  methods: {\r\n    async fetchPlans() {\r\n      try {\r\n        const response = await axios.get('http://localhost:8000/api/v1/plans/')\r\n        this.plans = response.data\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    async createPlan() {\r\n      try {\r\n        await axios.post('http://localhost:8000/api/v1/plans/', this.newPlan)\r\n        this.newPlan = { description: '', value: 0 }\r\n        this.fetchPlans()\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    editPlan(plan) {\r\n      this.editPlanData = Object.assign({}, plan)\r\n    },\r\n    async updatePlan() {\r\n      try {\r\n        await axios.put(`http://localhost:8000/api/v1/plans/${this.editPlanData.id}/`, this.editPlanData)\r\n        this.editPlanData = { id: null, description: '', value: 0 }\r\n        this.fetchPlans()\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    async deletePlan(planId) {\r\n      try {\r\n        await axios.delete(`http://localhost:8000/api/v1/plans/${planId}/`)\r\n        this.fetchPlans()\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":"AA2CA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE;QACPC,WAAW,EAAE,EAAE;QACfC,KAAK,EAAE;MACT,CAAC;MACDC,YAAY,EAAE;QACZC,EAAE,EAAE,IAAI;QACRH,WAAW,EAAE,EAAE;QACfC,KAAK,EAAE;MACT;IACF;EACF,CAAC;EACDG,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,UAAU,CAAC;EAClB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMX,KAAK,CAACY,GAAG,CAAC,qCAAqC;QACtE,IAAI,CAACV,KAAI,GAAIS,QAAQ,CAACV,IAAG;MAC3B,EAAE,OAAOY,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK;MACrB;IACF,CAAC;IACD,MAAME,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAMf,KAAK,CAACgB,IAAI,CAAC,qCAAqC,EAAE,IAAI,CAACb,OAAO;QACpE,IAAI,CAACA,OAAM,GAAI;UAAEC,WAAW,EAAE,EAAE;UAAEC,KAAK,EAAE;QAAE;QAC3C,IAAI,CAACI,UAAU,CAAC;MAClB,EAAE,OAAOI,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK;MACrB;IACF,CAAC;IACDI,QAAQA,CAACC,IAAI,EAAE;MACb,IAAI,CAACZ,YAAW,GAAIa,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEF,IAAI;IAC5C,CAAC;IACD,MAAMG,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAMrB,KAAK,CAACsB,GAAG,CAAE,sCAAqC,IAAI,CAAChB,YAAY,CAACC,EAAG,GAAE,EAAE,IAAI,CAACD,YAAY;QAChG,IAAI,CAACA,YAAW,GAAI;UAAEC,EAAE,EAAE,IAAI;UAAEH,WAAW,EAAE,EAAE;UAAEC,KAAK,EAAE;QAAE;QAC1D,IAAI,CAACI,UAAU,CAAC;MAClB,EAAE,OAAOI,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK;MACrB;IACF,CAAC;IACD,MAAMU,UAAUA,CAACC,MAAM,EAAE;MACvB,IAAI;QACF,MAAMxB,KAAK,CAACyB,MAAM,CAAE,sCAAqCD,MAAO,GAAE;QAClE,IAAI,CAACf,UAAU,CAAC;MAClB,EAAE,OAAOI,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK;MACrB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
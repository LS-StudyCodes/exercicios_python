{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      vehicles: [],\n      customers: [],\n      newVehicle: {\n        plate: '',\n        model: '',\n        description: '',\n        customer: null\n      },\n      editVehicleData: {\n        id: null,\n        plate: '',\n        model: '',\n        description: '',\n        customer: null\n      }\n    };\n  },\n  mounted() {\n    this.fetchVehicles();\n    this.fetchCustomers();\n  },\n  methods: {\n    async fetchVehicles() {\n      try {\n        const response = await axios.get('http://localhost:8000/api/v1/vehicles/');\n        this.vehicles = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async fetchCustomers() {\n      try {\n        const response = await axios.get('http://localhost:8000/api/v1/customers/');\n        this.customers = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async createVehicle() {\n      try {\n        await axios.post('http://localhost:8000/api/v1/vehicles/', this.newVehicle);\n        this.newVehicle = {\n          plate: '',\n          model: '',\n          description: '',\n          customer: null\n        };\n        this.fetchVehicles();\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    editVehicle(vehicle) {\n      this.editVehicleData = Object.assign({}, vehicle);\n    },\n    async updateVehicle() {\n      try {\n        await axios.put(`http://localhost:8000/api/v1/vehicles/${this.editVehicleData.id}/`, this.editVehicleData);\n        this.editVehicleData = {\n          id: null,\n          plate: '',\n          model: '',\n          description: '',\n          customer: null\n        };\n        this.fetchVehicles();\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async deleteVehicle(vehicleId) {\n      try {\n        await axios.delete(`http://localhost:8000/api/v1/vehicles/${vehicleId}/`);\n        this.fetchVehicles();\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","vehicles","customers","newVehicle","plate","model","description","customer","editVehicleData","id","mounted","fetchVehicles","fetchCustomers","methods","response","get","error","console","createVehicle","post","editVehicle","vehicle","Object","assign","updateVehicle","put","deleteVehicle","vehicleId","delete"],"sources":["C:\\Users\\Lucas\\Desktop\\teste_cp_ex2\\frontend\\src\\components\\Vehicle.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1>Veículos</h1>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <h2>Cadastrar Veículo</h2>\r\n        <div class=\"form-group\">\r\n          <label for=\"plateInput\">Placa:</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"plateInput\" v-model=\"newVehicle.plate\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"modelInput\">Modelo:</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"modelInput\" v-model=\"newVehicle.model\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"descriptionInput\">Descrição:</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"descriptionInput\" v-model=\"newVehicle.description\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"customerIdInput\">Cliente ID:</label>\r\n          <select class=\"form-control\" id=\"customerIdInput\" v-model.number=\"newVehicle.customer\">\r\n            <option :value=\"null\">Nenhum</option>\r\n            <option v-for=\"customer in customers\" :key=\"customer.id\" :value=\"customer.id\">{{ customer.name }}</option>\r\n          </select>\r\n        </div>\r\n        <button class=\"btn btn-primary\" @click=\"createVehicle\">Cadastrar</button>\r\n      </div>\r\n      <div class=\"col-md-6\">\r\n        <h2>Lista de Veículos</h2>\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Placa</th>\r\n              <th>Modelo</th>\r\n              <th>Descrição</th>\r\n              <th>Cliente</th>\r\n              <th>Ações</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"vehicle in vehicles\" :key=\"vehicle.id\">\r\n              <td>{{ vehicle.plate }}</td>\r\n              <td>{{ vehicle.model }}</td>\r\n              <td>{{ vehicle.description }}</td>\r\n              <td>{{ vehicle.customer ? vehicle.customer.name : 'N/A' }}</td>\r\n              <td>\r\n                <button class=\"btn btn-warning btn-sm\" @click=\"editVehicle(vehicle)\">Editar</button>\r\n                <button class=\"btn btn-danger btn-sm\" @click=\"deleteVehicle(vehicle.id)\">Excluir</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      vehicles: [],\r\n      customers: [],\r\n      newVehicle: {\r\n        plate: '',\r\n        model: '',\r\n        description: '',\r\n        customer: null\r\n      },\r\n      editVehicleData: {\r\n        id: null,\r\n        plate: '',\r\n        model: '',\r\n        description: '',\r\n        customer: null\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchVehicles()\r\n    this.fetchCustomers()\r\n  },\r\n  methods: {\r\n    async fetchVehicles() {\r\n      try {\r\n        const response = await axios.get('http://localhost:8000/api/v1/vehicles/')\r\n        this.vehicles = response.data\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    async fetchCustomers() {\r\n      try {\r\n        const response = await axios.get('http://localhost:8000/api/v1/customers/')\r\n        this.customers = response.data\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    async createVehicle() {\r\n      try {\r\n        await axios.post('http://localhost:8000/api/v1/vehicles/', this.newVehicle)\r\n        this.newVehicle = { plate: '', model: '', description: '', customer: null }\r\n        this.fetchVehicles()\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    editVehicle(vehicle) {\r\n      this.editVehicleData = Object.assign({}, vehicle)\r\n    },\r\n    async updateVehicle() {\r\n      try {\r\n        await axios.put(`http://localhost:8000/api/v1/vehicles/${this.editVehicleData.id}/`, this.editVehicleData)\r\n        this.editVehicleData = { id: null, plate: '', model: '', description: '', customer: null }\r\n        this.fetchVehicles()\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    async deleteVehicle(vehicleId) {\r\n      try {\r\n        await axios.delete(`http://localhost:8000/api/v1/vehicles/${vehicleId}/`)\r\n        this.fetchVehicles()\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":"AA0DA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,SAAS,EAAE,EAAE;MACbC,UAAU,EAAE;QACVC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE,EAAE;QACfC,QAAQ,EAAE;MACZ,CAAC;MACDC,eAAe,EAAE;QACfC,EAAE,EAAE,IAAI;QACRL,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE,EAAE;QACfC,QAAQ,EAAE;MACZ;IACF;EACF,CAAC;EACDG,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,aAAa,CAAC;IACnB,IAAI,CAACC,cAAc,CAAC;EACtB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMF,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMG,QAAO,GAAI,MAAMf,KAAK,CAACgB,GAAG,CAAC,wCAAwC;QACzE,IAAI,CAACd,QAAO,GAAIa,QAAQ,CAACd,IAAG;MAC9B,EAAE,OAAOgB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK;MACrB;IACF,CAAC;IACD,MAAMJ,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMf,KAAK,CAACgB,GAAG,CAAC,yCAAyC;QAC1E,IAAI,CAACb,SAAQ,GAAIY,QAAQ,CAACd,IAAG;MAC/B,EAAE,OAAOgB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK;MACrB;IACF,CAAC;IACD,MAAME,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMnB,KAAK,CAACoB,IAAI,CAAC,wCAAwC,EAAE,IAAI,CAAChB,UAAU;QAC1E,IAAI,CAACA,UAAS,GAAI;UAAEC,KAAK,EAAE,EAAE;UAAEC,KAAK,EAAE,EAAE;UAAEC,WAAW,EAAE,EAAE;UAAEC,QAAQ,EAAE;QAAK;QAC1E,IAAI,CAACI,aAAa,CAAC;MACrB,EAAE,OAAOK,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK;MACrB;IACF,CAAC;IACDI,WAAWA,CAACC,OAAO,EAAE;MACnB,IAAI,CAACb,eAAc,GAAIc,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEF,OAAO;IAClD,CAAC;IACD,MAAMG,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMzB,KAAK,CAAC0B,GAAG,CAAE,yCAAwC,IAAI,CAACjB,eAAe,CAACC,EAAG,GAAE,EAAE,IAAI,CAACD,eAAe;QACzG,IAAI,CAACA,eAAc,GAAI;UAAEC,EAAE,EAAE,IAAI;UAAEL,KAAK,EAAE,EAAE;UAAEC,KAAK,EAAE,EAAE;UAAEC,WAAW,EAAE,EAAE;UAAEC,QAAQ,EAAE;QAAK;QACzF,IAAI,CAACI,aAAa,CAAC;MACrB,EAAE,OAAOK,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK;MACrB;IACF,CAAC;IACD,MAAMU,aAAaA,CAACC,SAAS,EAAE;MAC7B,IAAI;QACF,MAAM5B,KAAK,CAAC6B,MAAM,CAAE,yCAAwCD,SAAU,GAAE;QACxE,IAAI,CAAChB,aAAa,CAAC;MACrB,EAAE,OAAOK,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK;MACrB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Veículos\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"row\"\n};\nconst _hoisted_4 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Cadastrar Veículo\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"form-group\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"plateInput\"\n}, \"Placa:\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"modelInput\"\n}, \"Modelo:\", -1 /* HOISTED */);\nconst _hoisted_10 = {\n  class: \"form-group\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"descriptionInput\"\n}, \"Descrição:\", -1 /* HOISTED */);\nconst _hoisted_12 = {\n  class: \"form-group\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"customerIdInput\"\n}, \"Cliente ID:\", -1 /* HOISTED */);\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: null\n}, \"Nenhum\", -1 /* HOISTED */);\nconst _hoisted_15 = [\"value\"];\nconst _hoisted_16 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Lista de Veículos\", -1 /* HOISTED */);\nconst _hoisted_18 = {\n  class: \"table\"\n};\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Placa\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Modelo\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Descrição\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Cliente\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Ações\")])], -1 /* HOISTED */);\nconst _hoisted_20 = [\"onClick\"];\nconst _hoisted_21 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"plateInput\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newVehicle.plate = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newVehicle.plate]])]), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"modelInput\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newVehicle.model = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newVehicle.model]])]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"descriptionInput\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newVehicle.description = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newVehicle.description]])]), _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-control\",\n    id: \"customerIdInput\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.newVehicle.customer = $event)\n  }, [_hoisted_14, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.customers, customer => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: customer.id,\n      value: customer.id\n    }, _toDisplayString(customer.name), 9 /* TEXT, PROPS */, _hoisted_15);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.newVehicle.customer, void 0, {\n    number: true\n  }]])]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.createVehicle && $options.createVehicle(...args))\n  }, \"Cadastrar\")]), _createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _createElementVNode(\"table\", _hoisted_18, [_hoisted_19, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.vehicles, vehicle => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: vehicle.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(vehicle.plate), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(vehicle.model), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(vehicle.description), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(vehicle.customer ? vehicle.customer.name : 'N/A'), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-warning btn-sm\",\n      onClick: $event => $options.editVehicle(vehicle)\n    }, \"Editar\", 8 /* PROPS */, _hoisted_20), _createElementVNode(\"button\", {\n      class: \"btn btn-danger btn-sm\",\n      onClick: $event => $options.deleteVehicle(vehicle.id)\n    }, \"Excluir\", 8 /* PROPS */, _hoisted_21)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","value","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","type","id","_cache","$event","$data","newVehicle","plate","_hoisted_8","_hoisted_9","model","_hoisted_10","_hoisted_11","description","_hoisted_12","_hoisted_13","customer","_hoisted_14","_Fragment","_renderList","customers","key","name","_hoisted_15","number","onClick","args","$options","createVehicle","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","vehicles","vehicle","_toDisplayString","editVehicle","_hoisted_20","deleteVehicle","_hoisted_21"],"sources":["C:\\Users\\Lucas\\Desktop\\teste_cp_ex2\\frontend\\src\\components\\Vehicle.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1>Veículos</h1>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <h2>Cadastrar Veículo</h2>\r\n        <div class=\"form-group\">\r\n          <label for=\"plateInput\">Placa:</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"plateInput\" v-model=\"newVehicle.plate\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"modelInput\">Modelo:</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"modelInput\" v-model=\"newVehicle.model\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"descriptionInput\">Descrição:</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"descriptionInput\" v-model=\"newVehicle.description\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"customerIdInput\">Cliente ID:</label>\r\n          <select class=\"form-control\" id=\"customerIdInput\" v-model.number=\"newVehicle.customer\">\r\n            <option :value=\"null\">Nenhum</option>\r\n            <option v-for=\"customer in customers\" :key=\"customer.id\" :value=\"customer.id\">{{ customer.name }}</option>\r\n          </select>\r\n        </div>\r\n        <button class=\"btn btn-primary\" @click=\"createVehicle\">Cadastrar</button>\r\n      </div>\r\n      <div class=\"col-md-6\">\r\n        <h2>Lista de Veículos</h2>\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Placa</th>\r\n              <th>Modelo</th>\r\n              <th>Descrição</th>\r\n              <th>Cliente</th>\r\n              <th>Ações</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"vehicle in vehicles\" :key=\"vehicle.id\">\r\n              <td>{{ vehicle.plate }}</td>\r\n              <td>{{ vehicle.model }}</td>\r\n              <td>{{ vehicle.description }}</td>\r\n              <td>{{ vehicle.customer ? vehicle.customer.name : 'N/A' }}</td>\r\n              <td>\r\n                <button class=\"btn btn-warning btn-sm\" @click=\"editVehicle(vehicle)\">Editar</button>\r\n                <button class=\"btn btn-danger btn-sm\" @click=\"deleteVehicle(vehicle.id)\">Excluir</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      vehicles: [],\r\n      customers: [],\r\n      newVehicle: {\r\n        plate: '',\r\n        model: '',\r\n        description: '',\r\n        customer: null\r\n      },\r\n      editVehicleData: {\r\n        id: null,\r\n        plate: '',\r\n        model: '',\r\n        description: '',\r\n        customer: null\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchVehicles()\r\n    this.fetchCustomers()\r\n  },\r\n  methods: {\r\n    async fetchVehicles() {\r\n      try {\r\n        const response = await axios.get('http://localhost:8000/api/v1/vehicles/')\r\n        this.vehicles = response.data\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    async fetchCustomers() {\r\n      try {\r\n        const response = await axios.get('http://localhost:8000/api/v1/customers/')\r\n        this.customers = response.data\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    async createVehicle() {\r\n      try {\r\n        await axios.post('http://localhost:8000/api/v1/vehicles/', this.newVehicle)\r\n        this.newVehicle = { plate: '', model: '', description: '', customer: null }\r\n        this.fetchVehicles()\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    editVehicle(vehicle) {\r\n      this.editVehicleData = Object.assign({}, vehicle)\r\n    },\r\n    async updateVehicle() {\r\n      try {\r\n        await axios.put(`http://localhost:8000/api/v1/vehicles/${this.editVehicleData.id}/`, this.editVehicleData)\r\n        this.editVehicleData = { id: null, plate: '', model: '', description: '', customer: null }\r\n        this.fetchVehicles()\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    async deleteVehicle(vehicleId) {\r\n      try {\r\n        await axios.delete(`http://localhost:8000/api/v1/vehicles/${vehicleId}/`)\r\n        this.fetchVehicles()\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":";;EACOA,KAAK,EAAC;AAAW;gCACpBC,mBAAA,CAAiB,YAAb,UAAQ;;EACPD,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAU;gCACnBC,mBAAA,CAA0B,YAAtB,mBAAiB;;EAChBD,KAAK,EAAC;AAAY;gCACrBC,mBAAA,CAAsC;EAA/BC,GAAG,EAAC;AAAY,GAAC,QAAM;;EAG3BF,KAAK,EAAC;AAAY;gCACrBC,mBAAA,CAAuC;EAAhCC,GAAG,EAAC;AAAY,GAAC,SAAO;;EAG5BF,KAAK,EAAC;AAAY;iCACrBC,mBAAA,CAAgD;EAAzCC,GAAG,EAAC;AAAkB,GAAC,YAAU;;EAGrCF,KAAK,EAAC;AAAY;iCACrBC,mBAAA,CAAgD;EAAzCC,GAAG,EAAC;AAAiB,GAAC,aAAW;iCAEtCD,mBAAA,CAAqC;EAA5BE,KAAK,EAAE;AAAI,GAAE,QAAM;oBArBxC;;EA2BWH,KAAK,EAAC;AAAU;iCACnBC,mBAAA,CAA0B,YAAtB,mBAAiB;;EACdD,KAAK,EAAC;AAAO;iCAClBC,mBAAA,CAQQ,gB,aAPNA,mBAAA,CAMK,a,aALHA,mBAAA,CAAc,YAAV,OAAK,G,aACTA,mBAAA,CAAe,YAAX,QAAM,G,aACVA,mBAAA,CAAkB,YAAd,WAAS,G,aACbA,mBAAA,CAAgB,YAAZ,SAAO,G,aACXA,mBAAA,CAAc,YAAV,OAAK,E;oBApCvB;oBAAA;;uBACEG,mBAAA,CAqDM,OArDNC,UAqDM,GApDJC,UAAiB,EACjBL,mBAAA,CAkDM,OAlDNM,UAkDM,GAjDJN,mBAAA,CAsBM,OAtBNO,UAsBM,GArBJC,UAA0B,EAC1BR,mBAAA,CAGM,OAHNS,UAGM,GAFJC,UAAsC,E,gBACtCV,mBAAA,CAAmF;IAA5EW,IAAI,EAAC,MAAM;IAACZ,KAAK,EAAC,cAAc;IAACa,EAAE,EAAC,YAAY;IARjE,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAQ2EC,KAAA,CAAAC,UAAU,CAACC,KAAK,GAAAH,MAAA;iDAAhBC,KAAA,CAAAC,UAAU,CAACC,KAAK,E,KAEnFjB,mBAAA,CAGM,OAHNkB,UAGM,GAFJC,UAAuC,E,gBACvCnB,mBAAA,CAAmF;IAA5EW,IAAI,EAAC,MAAM;IAACZ,KAAK,EAAC,cAAc;IAACa,EAAE,EAAC,YAAY;IAZjE,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAY2EC,KAAA,CAAAC,UAAU,CAACI,KAAK,GAAAN,MAAA;iDAAhBC,KAAA,CAAAC,UAAU,CAACI,KAAK,E,KAEnFpB,mBAAA,CAGM,OAHNqB,WAGM,GAFJC,WAAgD,E,gBAChDtB,mBAAA,CAA+F;IAAxFW,IAAI,EAAC,MAAM;IAACZ,KAAK,EAAC,cAAc;IAACa,EAAE,EAAC,kBAAkB;IAhBvE,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAgBiFC,KAAA,CAAAC,UAAU,CAACO,WAAW,GAAAT,MAAA;iDAAtBC,KAAA,CAAAC,UAAU,CAACO,WAAW,E,KAE/FvB,mBAAA,CAMM,OANNwB,WAMM,GALJC,WAAgD,E,gBAChDzB,mBAAA,CAGS;IAHDD,KAAK,EAAC,cAAc;IAACa,EAAE,EAAC,iBAAiB;IApB3D,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAoB4EC,KAAA,CAAAC,UAAU,CAACU,QAAQ,GAAAZ,MAAA;MACnFa,WAAqC,G,kBACrCxB,mBAAA,CAA0GyB,SAAA,QAtBtHC,WAAA,CAsBuCd,KAAA,CAAAe,SAAS,EAArBJ,QAAQ;yBAAvBvB,mBAAA,CAA0G;MAAnE4B,GAAG,EAAEL,QAAQ,CAACd,EAAE;MAAGV,KAAK,EAAEwB,QAAQ,CAACd;wBAAOc,QAAQ,CAACM,IAAI,wBAtB1GC,WAAA;2EAoB4ElB,KAAA,CAAAC,UAAU,CAACU,QAAQ,E;IApB/FQ,MAAA,EAoB4D;EAAoC,E,MAKxFlC,mBAAA,CAAyE;IAAjED,KAAK,EAAC,iBAAiB;IAAEoC,OAAK,EAAAtB,MAAA,QAAAA,MAAA,UAAAuB,IAAA,KAAEC,QAAA,CAAAC,aAAA,IAAAD,QAAA,CAAAC,aAAA,IAAAF,IAAA,CAAa;KAAE,WAAS,E,GAElEpC,mBAAA,CAyBM,OAzBNuC,WAyBM,GAxBJC,WAA0B,EAC1BxC,mBAAA,CAsBQ,SAtBRyC,WAsBQ,GArBNC,WAQQ,EACR1C,mBAAA,CAWQ,iB,kBAVNG,mBAAA,CASKyB,SAAA,QAjDjBC,WAAA,CAwCkCd,KAAA,CAAA4B,QAAQ,EAAnBC,OAAO;yBAAlBzC,mBAAA,CASK;MAT4B4B,GAAG,EAAEa,OAAO,CAAChC;QAC5CZ,mBAAA,CAA4B,YAAA6C,gBAAA,CAArBD,OAAO,CAAC3B,KAAK,kBACpBjB,mBAAA,CAA4B,YAAA6C,gBAAA,CAArBD,OAAO,CAACxB,KAAK,kBACpBpB,mBAAA,CAAkC,YAAA6C,gBAAA,CAA3BD,OAAO,CAACrB,WAAW,kBAC1BvB,mBAAA,CAA+D,YAAA6C,gBAAA,CAAxDD,OAAO,CAAClB,QAAQ,GAAGkB,OAAO,CAAClB,QAAQ,CAACM,IAAI,0BAC/ChC,mBAAA,CAGK,aAFHA,mBAAA,CAAoF;MAA5ED,KAAK,EAAC,wBAAwB;MAAEoC,OAAK,EAAArB,MAAA,IAAEuB,QAAA,CAAAS,WAAW,CAACF,OAAO;OAAG,QAAM,iBA9C3FG,WAAA,GA+CgB/C,mBAAA,CAAyF;MAAjFD,KAAK,EAAC,uBAAuB;MAAEoC,OAAK,EAAArB,MAAA,IAAEuB,QAAA,CAAAW,aAAa,CAACJ,OAAO,CAAChC,EAAE;OAAG,SAAO,iBA/ChGqC,WAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}